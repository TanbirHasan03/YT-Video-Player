<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Media Player</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --bg-color: #f0f0f5;
            --text-color: #000;
            --player-bg: #000;
            --control-bar-bg: #2c313a;
            --accent-color: #7289da;
        }

        [data-theme="dark"] {
            --bg-color: #1a1a1a;
            --text-color: #fff;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            transition: 0.3s;
        }

        /* Dark/Light Mode Switcher */
        .theme-switch {
            position: absolute;
            top: 20px;
            right: 20px;
            cursor: pointer;
            font-size: 24px;
        }

        /* Player Container */
        .player-wrapper {
            position: relative;
            width: 900px;
            max-width: 95%;
            aspect-ratio: 16/9;
            background: #000;
            border: 8px solid #ddd;
            border-radius: 4px;
            overflow: hidden;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
        }

        /* Iframe Hiding YT UI */
        #yt-player {
            width: 100%;
            height: 100%;
            pointer-events: none; /* Prevents interaction with YT elements */
        }

        /* Custom Control Bar */
        .custom-controls {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--control-bar-bg);
            height: 50px;
            display: flex;
            align-items: center;
            padding: 0 15px;
            gap: 15px;
            color: #fff;
            user-select: none;
        }

        .control-btn {
            background: none;
            border: none;
            color: #fff;
            font-size: 18px;
            cursor: pointer;
            transition: 0.2s;
        }

        .control-btn:hover { color: #ccc; }

        /* Progress Bar Styles */
        .timeline-container {
            flex-grow: 1;
            display: flex;
            align-items: center;
        }

        #progress-bar {
            width: 100%;
            height: 4px;
            cursor: pointer;
            accent-color: #7289da;
        }

        /* Quality Popup */
        .quality-menu {
            position: absolute;
            bottom: 60px;
            right: 50px;
            background: #2c313a;
            border-radius: 4px;
            display: none;
            flex-direction: column;
        }

        .quality-option {
            padding: 8px 20px;
            cursor: pointer;
            border-bottom: 1px solid #444;
        }
        .quality-option:hover { background: #444; }
        .quality-option.active { background: #fff; color: #000; }

        .time-display { font-size: 14px; font-family: monospace; }
        .speed-display { font-size: 14px; cursor: pointer; font-weight: bold; }
    </style>
</head>
<body data-theme="light">

    <div class="theme-switch" id="theme-toggle"><i class="fas fa-moon"></i></div>

    <div class="player-wrapper" id="video-container">
        <div id="yt-player"></div>

        <div class="custom-controls">
            <button class="control-btn" id="play-pause"><i class="fas fa-play"></i></button>
            <button class="control-btn" id="rewind"><i class="fas fa-undo"></i></button>
            <button class="control-btn" id="fast-forward"><i class="fas fa-redo"></i></button>
            <button class="control-btn" id="mute-btn"><i class="fas fa-volume-up"></i></button>

            <div class="timeline-container">
                <input type="range" id="progress-bar" min="0" max="100" value="0">
            </div>

            <div class="time-display" id="remaining-time">-0:00:00</div>
            <div class="speed-display" id="speed-btn">1x</div>
            
            <button class="control-btn" id="settings-btn"><i class="fas fa-cog"></i></button>
            <button class="control-btn" id="fullscreen-btn"><i class="fas fa-expand"></i></button>

            <div class="quality-menu" id="quality-menu">
                <div class="quality-option">1080p</div>
                <div class="quality-option active">720p</div>
                <div class="quality-option">480p</div>
            </div>
        </div>
    </div>

<script>
    // 1. Initialize YouTube API
    var tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    var player;
    function onYouTubeIframeAPIReady() {
        player = new YT.Player('yt-player', {
            videoId: '0XODdktEkh4', // Your requested video
            playerVars: {
                'controls': 0,
                'modestbranding': 1,
                'rel': 0,
                'showinfo': 0,
                'iv_load_policy': 3,
                'disablekb': 1,
                'fs': 0
            },
            events: {
                'onReady': onPlayerReady
            }
        });
    }

    function onPlayerReady(event) {
        const playBtn = document.getElementById('play-pause');
        const progressBar = document.getElementById('progress-bar');
        const remainingTimeText = document.getElementById('remaining-time');
        const speedBtn = document.getElementById('speed-btn');
        const muteBtn = document.getElementById('mute-btn');
        const settingsBtn = document.getElementById('settings-btn');
        const qualityMenu = document.getElementById('quality-menu');

        // Play / Pause
        playBtn.addEventListener('click', () => {
            if (player.getPlayerState() == 1) {
                player.pauseVideo();
                playBtn.innerHTML = '<i class="fas fa-play"></i>';
            } else {
                player.playVideo();
                playBtn.innerHTML = '<i class="fas fa-pause"></i>';
            }
        });

        // Rewind & Forward (10 seconds)
        document.getElementById('rewind').addEventListener('click', () => {
            player.seekTo(player.getCurrentTime() - 10);
        });
        document.getElementById('fast-forward').addEventListener('click', () => {
            player.seekTo(player.getCurrentTime() + 10);
        });

        // Timeline Logic
        setInterval(() => {
            if (player && player.getCurrentTime) {
                const current = player.getCurrentTime();
                const total = player.getDuration();
                const progress = (current / total) * 100;
                progressBar.value = progress;

                // Time remaining logic like your screenshot (-3:25:25)
                let remaining = total - current;
                let h = Math.floor(remaining / 3600);
                let m = Math.floor((remaining % 3600) / 60);
                let s = Math.floor(remaining % 60);
                remainingTimeText.innerText = `-${h}:${m < 10 ? '0'+m : m}:${s < 10 ? '0'+s : s}`;
            }
        }, 1000);

        progressBar.addEventListener('input', () => {
            const seekTo = player.getDuration() * (progressBar.value / 100);
            player.seekTo(seekTo);
        });

        // Speed Control
        let speeds = [0.5, 1, 1.5, 2];
        let currentSpeedIdx = 1;
        speedBtn.addEventListener('click', () => {
            currentSpeedIdx = (currentSpeedIdx + 1) % speeds.length;
            let newSpeed = speeds[currentSpeedIdx];
            player.setPlaybackRate(newSpeed);
            speedBtn.innerText = newSpeed + 'x';
        });

        // Mute
        muteBtn.addEventListener('click', () => {
            if (player.isMuted()) {
                player.unMute();
                muteBtn.innerHTML = '<i class="fas fa-volume-up"></i>';
            } else {
                player.mute();
                muteBtn.innerHTML = '<i class="fas fa-volume-mute"></i>';
            }
        });

        // Settings (Quality) Menu Toggle
        settingsBtn.addEventListener('click', () => {
            qualityMenu.style.display = qualityMenu.style.display === 'flex' ? 'none' : 'flex';
        });

        // Fullscreen
        document.getElementById('fullscreen-btn').addEventListener('click', () => {
            const container = document.getElementById('video-container');
            if (container.requestFullscreen) container.requestFullscreen();
            else if (container.webkitRequestFullscreen) container.webkitRequestFullscreen();
        });
    }

    // Theme Switcher Logic
    const themeToggle = document.getElementById('theme-toggle');
    themeToggle.addEventListener('click', () => {
        const body = document.body;
        if (body.getAttribute('data-theme') === 'light') {
            body.setAttribute('data-theme', 'dark');
            themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
        } else {
            body.setAttribute('data-theme', 'light');
            themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
        }
    });
</script>
</body>
</html>
